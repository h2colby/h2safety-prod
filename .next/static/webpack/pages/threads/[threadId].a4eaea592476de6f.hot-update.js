"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/threads/[threadId]",{

/***/ "./pages/threads/[threadId].tsx":
/*!**************************************!*\
  !*** ./pages/threads/[threadId].tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ThreadPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_context_UserContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/context/UserContext */ \"./lib/context/UserContext.tsx\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/index.js\");\n/* harmony import */ var _components_Header__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/Header */ \"./components/Header.tsx\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _lib_firebase__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/firebase */ \"./lib/firebase.ts\");\n// pages/thread/[threadId].tsx\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n // Client SDK Firestore instance\nfunction ThreadPage() {\n    var _project_complianceDeadline;\n    _s();\n    const { user, userData, loading } = (0,_lib_context_UserContext__WEBPACK_IMPORTED_MODULE_3__.useUser)();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const { threadId } = router.query;\n    const [thread, setThread] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [threadError, setThreadError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [threadLoading, setThreadLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [project, setProject] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [projectLoading, setProjectLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [chatInput, setChatInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [chatLoading, setChatLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [chatError, setChatError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [insightsContent, setInsightsContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [reportLoading, setReportLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [reportContent, setReportContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [reportError, setReportError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isModalOpen, setIsModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [customInput, setCustomInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [addingInsight, setAddingInsight] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [addInsightSuccess, setAddInsightSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [addInsightError, setAddInsightError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ThreadPage.useEffect\": ()=>{\n            if (loading) return;\n            if (!user) {\n                setThreadError('Please log in to view this thread.');\n                setThreadLoading(false);\n                return;\n            }\n            if (typeof threadId !== 'string') {\n                setThreadError('Invalid thread ID');\n                setThreadLoading(false);\n                return;\n            }\n            const tid = threadId;\n            const threadRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_5__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_6__.db, 'threads', tid);\n            const unsub = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_5__.onSnapshot)(threadRef, {\n                \"ThreadPage.useEffect.unsub\": (snapshot)=>{\n                    if (snapshot.exists()) {\n                        const data = snapshot.data();\n                        setThread(data);\n                        setThreadError(null);\n                        setThreadLoading(false);\n                    } else {\n                        setThreadError('Thread not found');\n                        setThreadLoading(false);\n                    }\n                }\n            }[\"ThreadPage.useEffect.unsub\"], {\n                \"ThreadPage.useEffect.unsub\": (error)=>{\n                    setThreadError(error.message);\n                    setThreadLoading(false);\n                }\n            }[\"ThreadPage.useEffect.unsub\"]);\n            return ({\n                \"ThreadPage.useEffect\": ()=>unsub()\n            })[\"ThreadPage.useEffect\"];\n        }\n    }[\"ThreadPage.useEffect\"], [\n        user,\n        loading,\n        threadId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ThreadPage.useEffect\": ()=>{\n            if (!thread || !user || !thread.projectId || typeof thread.projectId !== 'string') {\n                setProjectLoading(false);\n                return;\n            }\n            const pid = thread.projectId;\n            const projectRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_5__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_6__.db, 'projects', pid);\n            const unsubProject = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_5__.onSnapshot)(projectRef, {\n                \"ThreadPage.useEffect.unsubProject\": (snapshot)=>{\n                    if (snapshot.exists()) {\n                        const data = snapshot.data();\n                        const projectData = {\n                            projectName: data.projectName || '',\n                            status: data.status || '',\n                            projectPriority: data.projectPriority || '',\n                            facilityName: data.facilityName,\n                            description: data.description,\n                            complianceDeadline: data.complianceDeadline,\n                            createdAt: data.createdAt,\n                            updatedAt: data.updatedAt\n                        };\n                        setProject(projectData);\n                    } else {\n                        console.warn('Project not found for this thread');\n                    }\n                    setProjectLoading(false);\n                }\n            }[\"ThreadPage.useEffect.unsubProject\"], {\n                \"ThreadPage.useEffect.unsubProject\": (error)=>{\n                    console.error('Error loading project:', error.message);\n                    setProjectLoading(false);\n                }\n            }[\"ThreadPage.useEffect.unsubProject\"]);\n            return ({\n                \"ThreadPage.useEffect\": ()=>unsubProject()\n            })[\"ThreadPage.useEffect\"];\n        }\n    }[\"ThreadPage.useEffect\"], [\n        thread,\n        user\n    ]);\n    if (threadLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-black text-white flex flex-col\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Header__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                    lineNumber: 127,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-8\",\n                    children: \"Loading thread...\"\n                }, void 0, false, {\n                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                    lineNumber: 128,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n            lineNumber: 126,\n            columnNumber: 7\n        }, this);\n    }\n    if (threadError) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-black text-white flex flex-col\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Header__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                    lineNumber: 136,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-8\",\n                    children: threadError\n                }, void 0, false, {\n                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                    lineNumber: 137,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n            lineNumber: 135,\n            columnNumber: 7\n        }, this);\n    }\n    if (!thread) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-black text-white flex flex-col\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Header__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                    lineNumber: 145,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-8\",\n                    children: \"Thread not found\"\n                }, void 0, false, {\n                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                    lineNumber: 146,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n            lineNumber: 144,\n            columnNumber: 7\n        }, this);\n    }\n    async function handleSendMessage(content, sender) {\n        if (typeof threadId !== 'string') return;\n        await fetch('/api/messages/add', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                threadId,\n                content,\n                sender\n            })\n        });\n    }\n    async function handleChatSubmit(e) {\n        e.preventDefault();\n        setChatError(null);\n        if (!chatInput.trim()) return;\n        if (typeof threadId !== 'string') {\n            setChatError('Invalid thread ID');\n            return;\n        }\n        setChatLoading(true);\n        const userMessage = chatInput.trim();\n        setChatInput('');\n        try {\n            // Add user's message via API route\n            await handleSendMessage(userMessage, 'user');\n            // Query the RAG service with improved error handling\n            const res = await fetch('http://192.168.2.232:5002/ask', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    question: userMessage\n                })\n            });\n            if (!res.ok) {\n                const errorData = await res.text();\n                throw new Error(\"Server error: \".concat(errorData));\n            }\n            const data = await res.json();\n            // Handle the new response format\n            const aiMessage = data.final_response || data.final_response || 'No response generated.';\n            if (data.error) {\n                throw new Error(data.error);\n            }\n            await handleSendMessage(aiMessage, 'ai');\n        } catch (err) {\n            console.error('Chat error:', err);\n            setChatError(err.message || 'Failed to get response from AI service');\n        } finally{\n            setChatLoading(false);\n        }\n    }\n    async function handleGenerateReport(type, customPrompt) {\n        setReportLoading(true);\n        setReportError(null);\n        setReportContent(null);\n        if (!thread || typeof threadId !== 'string') {\n            setReportError('Thread or threadId not ready yet.');\n            setReportLoading(false);\n            return;\n        }\n        if (!thread.projectId || typeof thread.projectId !== 'string') {\n            setReportError('thread.projectId not ready yet.');\n            setReportLoading(false);\n            return;\n        }\n        try {\n            const endpoint = type === 'comprehensive' ? '/api/reports/multistep-generate' : '/api/reports/generate';\n            const body = {\n                projectId: thread.projectId,\n                threadId,\n                ...type !== 'comprehensive' && {\n                    reportType: type\n                },\n                ...customPrompt && {\n                    customPrompt\n                }\n            };\n            const res = await fetch(endpoint, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(body)\n            });\n            if (!res.ok) {\n                const text = await res.text();\n                throw new Error(\"Error generating report: \".concat(text));\n            }\n            const result = await res.json();\n            setReportContent(result.content);\n        } catch (err) {\n            console.error('Error generating report:', err);\n            setReportError(err.message);\n        } finally{\n            setReportLoading(false);\n        }\n    }\n    async function handleCustomReport() {\n        setIsModalOpen(true);\n    }\n    async function handleInsightClick(type) {\n        if (typeof threadId !== 'string') {\n            alert('Invalid thread ID for insights generation');\n            return;\n        }\n        try {\n            const res = await fetch('/api/insights/generate', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    threadId,\n                    insightType: type\n                })\n            });\n            if (!res.ok) {\n                const text = await res.text();\n                throw new Error(\"Error generating insights: \".concat(text));\n            }\n            const data = await res.json();\n            setInsightsContent(data.content || \"No insights returned for \".concat(type, \".\"));\n        } catch (err) {\n            setInsightsContent(null);\n            alert(err.message);\n        }\n    }\n    async function addInsightToMessages() {\n        if (!insightsContent || !threadId || typeof threadId !== 'string') {\n            setAddInsightError('No insight available to add.');\n            return;\n        }\n        setAddingInsight(true);\n        setAddInsightError(null);\n        setAddInsightSuccess(null);\n        try {\n            const threadRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_5__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_6__.db, 'threads', threadId);\n            const newMessage = {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_7__.v4)(),\n                sender: 'insight',\n                content: insightsContent,\n                timestamp: Date.now()\n            };\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_5__.updateDoc)(threadRef, {\n                messages: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_5__.arrayUnion)(newMessage)\n            });\n            setAddInsightSuccess('Insight added to messages successfully!');\n        } catch (err) {\n            console.error('Error adding insight to messages:', err);\n            setAddInsightError('Failed to add insight to messages: ' + err.message);\n        } finally{\n            setAddingInsight(false);\n        }\n    }\n    const messages = thread.messages || [];\n    const isOwner = user && user.uid === thread.ownerId;\n    const formatDate = (date)=>{\n        if (!date) return 'Not Set';\n        return date.toLocaleDateString('en-US', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric'\n        });\n    };\n    const getStatusColor = (status)=>{\n        switch(status === null || status === void 0 ? void 0 : status.toLowerCase()){\n            case 'active':\n                return 'text-green-400';\n            case 'pending':\n                return 'text-yellow-400';\n            case 'completed':\n                return 'text-blue-400';\n            default:\n                return 'text-gray-400';\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-black text-white flex\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                className: \"w-64 bg-gray-900 p-4 border-r border-gray-800 sticky top-0 h-screen overflow-y-auto\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"font-semibold mb-4\",\n                        children: \"Insights\"\n                    }, void 0, false, {\n                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                        lineNumber: 346,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-2 mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"w-full text-left bg-gray-800 hover:bg-gray-700 px-4 py-2 rounded\",\n                                onClick: ()=>handleInsightClick('Code References'),\n                                children: \"Code References\"\n                            }, void 0, false, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 348,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"w-full text-left bg-gray-800 hover:bg-gray-700 px-4 py-2 rounded\",\n                                onClick: ()=>handleInsightClick('Recommended Actions'),\n                                children: \"Recommended Actions\"\n                            }, void 0, false, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 354,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"w-full text-left bg-gray-800 hover:bg-gray-700 px-4 py-2 rounded\",\n                                onClick: ()=>handleInsightClick('General Insights'),\n                                children: \"General Insights\"\n                            }, void 0, false, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 360,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                        lineNumber: 347,\n                        columnNumber: 9\n                    }, this),\n                    insightsContent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-800 p-4 rounded mt-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"w-full mb-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800  text-white px-4 py-2 rounded transition-colors duration-200 disabled:cursor-not-allowed flex items-center justify-center\",\n                                onClick: addInsightToMessages,\n                                disabled: addingInsight,\n                                children: addingInsight ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"animate-spin -ml-1 mr-3 h-5 w-5\",\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            fill: \"none\",\n                                            viewBox: \"0 0 24 24\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                    className: \"opacity-25\",\n                                                    cx: \"12\",\n                                                    cy: \"12\",\n                                                    r: \"10\",\n                                                    stroke: \"currentColor\",\n                                                    strokeWidth: \"4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                    lineNumber: 379,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    className: \"opacity-75\",\n                                                    fill: \"currentColor\",\n                                                    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                    lineNumber: 380,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                            lineNumber: 378,\n                                            columnNumber: 19\n                                        }, this),\n                                        \"Adding...\"\n                                    ]\n                                }, void 0, true) : 'Add Insight to Messages'\n                            }, void 0, false, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 369,\n                                columnNumber: 13\n                            }, this),\n                            addInsightSuccess && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-4 p-2 bg-green-900 bg-opacity-20 text-green-400 text-sm rounded\",\n                                children: addInsightSuccess\n                            }, void 0, false, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 390,\n                                columnNumber: 15\n                            }, this),\n                            addInsightError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-4 p-2 bg-red-900 bg-opacity-20 text-red-400 text-sm rounded\",\n                                children: addInsightError\n                            }, void 0, false, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 396,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold mb-2\",\n                                children: \"Generated Insights\"\n                            }, void 0, false, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 401,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-200 whitespace-pre-wrap\",\n                                children: insightsContent\n                            }, void 0, false, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 402,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                        lineNumber: 368,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                lineNumber: 345,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 flex flex-col\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Header__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                        lineNumber: 408,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                        className: \"p-8 flex-1 overflow-auto\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-2xl font-bold mb-4\",\n                                children: thread.title\n                            }, void 0, false, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 410,\n                                columnNumber: 11\n                            }, this),\n                            project && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap gap-6 items-center mb-6 bg-gray-900 p-4 rounded\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-gray-400\",\n                                                children: \"Status:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                lineNumber: 414,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: getStatusColor(project.status),\n                                                children: project.status || 'Not Set'\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                lineNumber: 415,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                        lineNumber: 413,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-gray-400\",\n                                                children: \"Priority:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                lineNumber: 420,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-medium\",\n                                                children: project.projectPriority || 'Not Set'\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                lineNumber: 421,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                        lineNumber: 419,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-gray-400\",\n                                                children: \"Compliance Deadline:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                lineNumber: 426,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: formatDate((_project_complianceDeadline = project.complianceDeadline) === null || _project_complianceDeadline === void 0 ? void 0 : _project_complianceDeadline.toDate())\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                lineNumber: 427,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                        lineNumber: 425,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 412,\n                                columnNumber: 13\n                            }, this),\n                            thread.lastModified && thread.lastModified.toDate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-400 mb-2\",\n                                children: [\n                                    \"Last Modified: \",\n                                    new Date(thread.lastModified.toDate()).toLocaleString()\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 434,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-400 mb-8\",\n                                children: [\n                                    \"Messages: \",\n                                    thread.messageCount || messages.length || 0\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 438,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                className: \"my-8 border-gray-700\"\n                            }, void 0, false, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 442,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-8\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-lg font-semibold mb-4\",\n                                        children: \"Generate Reports\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                        lineNumber: 446,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex flex-wrap gap-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold  py-2 px-6 rounded-lg shadow-md transition-all duration-200  transform hover:scale-105 hover:shadow-lg hover:from-blue-600  hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed  disabled:hover:scale-100 disabled:hover:shadow-md\",\n                                                onClick: ()=>handleGenerateReport('comprehensive'),\n                                                disabled: reportLoading,\n                                                children: \"Comprehensive Report\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                lineNumber: 448,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold  py-2 px-6 rounded-lg shadow-md transition-all duration-200  transform hover:scale-105 hover:shadow-lg hover:from-blue-600  hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed  disabled:hover:scale-100 disabled:hover:shadow-md\",\n                                                onClick: ()=>handleGenerateReport('summary'),\n                                                disabled: reportLoading,\n                                                children: \"Summary Report\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                lineNumber: 460,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold  py-2 px-6 rounded-lg shadow-md transition-all duration-200  transform hover:scale-105 hover:shadow-lg hover:from-blue-600  hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed  disabled:hover:scale-100 disabled:hover:shadow-md\",\n                                                onClick: ()=>handleGenerateReport('communication'),\n                                                disabled: reportLoading,\n                                                children: \"Communication Summary\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                lineNumber: 472,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold  py-2 px-6 rounded-lg shadow-md transition-all duration-200  transform hover:scale-105 hover:shadow-lg hover:from-blue-600  hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed  disabled:hover:scale-100 disabled:hover:shadow-md\",\n                                                onClick: handleCustomReport,\n                                                disabled: reportLoading,\n                                                children: \"Custom Report\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                lineNumber: 484,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                        lineNumber: 447,\n                                        columnNumber: 13\n                                    }, this),\n                                    reportLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-gray-400 mt-4 flex items-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-500\",\n                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                fill: \"none\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                        className: \"opacity-25\",\n                                                        cx: \"12\",\n                                                        cy: \"12\",\n                                                        r: \"10\",\n                                                        stroke: \"currentColor\",\n                                                        strokeWidth: \"4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                        lineNumber: 500,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        className: \"opacity-75\",\n                                                        fill: \"currentColor\",\n                                                        d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                        lineNumber: 501,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                lineNumber: 499,\n                                                columnNumber: 17\n                                            }, this),\n                                            \"Generating report...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                        lineNumber: 498,\n                                        columnNumber: 15\n                                    }, this),\n                                    reportError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-red-500 mt-4 p-3 bg-red-900 bg-opacity-20 rounded-lg\",\n                                        children: [\n                                            \"Error: \",\n                                            reportError\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                        lineNumber: 508,\n                                        columnNumber: 15\n                                    }, this),\n                                    reportContent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-6 bg-gray-900 p-6 rounded-lg border border-gray-700 shadow-lg\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                className: \"text-lg font-medium mb-3 text-blue-400\",\n                                                children: \"Generated Report\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                lineNumber: 515,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                                className: \"whitespace-pre-wrap text-sm text-gray-300 font-mono bg-gray-800 p-4 rounded-md\",\n                                                children: reportContent\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                lineNumber: 516,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                        lineNumber: 514,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 445,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                className: \"my-8 border-gray-700\"\n                            }, void 0, false, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 523,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gray-900 rounded-lg border border-gray-700 shadow-lg mb-8\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-[600px] flex flex-col\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n                                            children: messages.length > 0 ? messages.map((msg)=>{\n                                                const isAI = msg.sender === 'ai';\n                                                const msgTime = msg.timestamp ? new Date(msg.timestamp).toLocaleString() : 'Unknown time';\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex \".concat(isAI ? 'justify-start' : 'justify-end'),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"max-w-[80%] \".concat(isAI ? 'bg-gray-800 rounded-tr-2xl' : 'bg-blue-600 rounded-tl-2xl', \" rounded-2xl p-4 shadow-md\"),\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-white whitespace-pre-wrap\",\n                                                                children: msg.content\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                                lineNumber: 549,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center justify-between mt-2 text-xs text-gray-400\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: isAI ? 'AI Assistant' : 'You'\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                                        lineNumber: 551,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: msgTime\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                                        lineNumber: 552,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    isOwner && !isAI && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        className: \"ml-4 text-red-400 hover:text-red-300 transition-colors\",\n                                                                        onClick: ()=>{\n                                                                        // handleDeleteMessage logic\n                                                                        },\n                                                                        children: \"Delete\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                                        lineNumber: 554,\n                                                                        columnNumber: 31\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                                lineNumber: 550,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                        lineNumber: 542,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, msg.id, false, {\n                                                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                    lineNumber: 538,\n                                                    columnNumber: 23\n                                                }, this);\n                                            }) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-center h-full text-gray-400\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    children: \"No messages yet. Start a conversation!\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                    lineNumber: 570,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                lineNumber: 569,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                            lineNumber: 529,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-4 border-t border-gray-700\",\n                                            children: [\n                                                chatError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mb-2 text-sm text-red-500 bg-red-900 bg-opacity-20 p-2 rounded flex items-center\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            className: \"w-4 h-4 mr-2\",\n                                                            fill: \"currentColor\",\n                                                            viewBox: \"0 0 20 20\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                fillRule: \"evenodd\",\n                                                                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                                                                clipRule: \"evenodd\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                                lineNumber: 580,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                            lineNumber: 579,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        chatError\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                    lineNumber: 578,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                                                    onSubmit: handleChatSubmit,\n                                                    className: \"flex items-center gap-2\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"relative flex-1\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"text\",\n                                                                value: chatInput,\n                                                                onChange: (e)=>setChatInput(e.target.value),\n                                                                className: \"w-full bg-gray-800 text-white border border-gray-700 rounded-full  px-4 py-2 pr-12 focus:outline-none focus:ring-2 focus:ring-blue-500  placeholder-gray-400 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\",\n                                                                placeholder: chatLoading ? \"Processing...\" : \"Type your message...\",\n                                                                disabled: chatLoading\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                                lineNumber: 590,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                type: \"submit\",\n                                                                disabled: chatLoading || !chatInput.trim(),\n                                                                className: \"absolute right-2 top-1/2 -translate-y-1/2 p-2  text-blue-400 hover:text-blue-300 disabled:text-gray-600  disabled:cursor-not-allowed transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-full\",\n                                                                title: chatLoading ? \"Processing...\" : \"Send message\",\n                                                                children: chatLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                    className: \"animate-spin h-5 w-5\",\n                                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                                    fill: \"none\",\n                                                                    viewBox: \"0 0 24 24\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                                            className: \"opacity-25\",\n                                                                            cx: \"12\",\n                                                                            cy: \"12\",\n                                                                            r: \"10\",\n                                                                            stroke: \"currentColor\",\n                                                                            strokeWidth: \"4\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                                            lineNumber: 612,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                            className: \"opacity-75\",\n                                                                            fill: \"currentColor\",\n                                                                            d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                                            lineNumber: 613,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                                    lineNumber: 611,\n                                                                    columnNumber: 25\n                                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                    className: \"h-5 w-5 transform transition-transform duration-200 hover:scale-110\",\n                                                                    fill: \"none\",\n                                                                    stroke: \"currentColor\",\n                                                                    viewBox: \"0 0 24 24\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                        strokeLinecap: \"round\",\n                                                                        strokeLinejoin: \"round\",\n                                                                        strokeWidth: 2,\n                                                                        d: \"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                                        lineNumber: 618,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                                    lineNumber: 616,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                                lineNumber: 601,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                        lineNumber: 589,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                                    lineNumber: 585,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                            lineNumber: 576,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                    lineNumber: 528,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                lineNumber: 526,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                        lineNumber: 409,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                        className: \"p-4 text-center text-gray-500 text-sm\",\n                        children: [\n                            \"\\xa9 \",\n                            new Date().getFullYear(),\n                            \" H2Safety.ai\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                        lineNumber: 629,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                lineNumber: 407,\n                columnNumber: 7\n            }, this),\n            isModalOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-lg mx-4 border border-gray-700\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-bold mb-4 text-white\",\n                            children: \"Enter Your Custom Report Requirements\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                            lineNumber: 637,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                            value: customInput,\n                            onChange: (e)=>setCustomInput(e.target.value),\n                            placeholder: \"Type your requirements here...\",\n                            className: \"w-full p-3 bg-gray-900 border border-gray-700 rounded-lg  text-white placeholder-gray-400 focus:outline-none  focus:ring-2 focus:ring-blue-500\",\n                            rows: 6\n                        }, void 0, false, {\n                            fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                            lineNumber: 640,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-end mt-6 gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        setIsModalOpen(false);\n                                        setCustomInput('');\n                                    },\n                                    className: \"px-4 py-2 bg-gray-700 hover:bg-gray-600  text-white rounded transition-colors\",\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                    lineNumber: 650,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        handleGenerateReport('custom', customInput);\n                                        setIsModalOpen(false);\n                                        setCustomInput('');\n                                    },\n                                    disabled: reportLoading,\n                                    className: \"px-4 py-2 bg-blue-600 hover:bg-blue-700  text-white rounded transition-colors  disabled:bg-blue-800 disabled:cursor-not-allowed\",\n                                    children: reportLoading ? 'Generating...' : 'Generate Report'\n                                }, void 0, false, {\n                                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                                    lineNumber: 660,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                            lineNumber: 649,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                    lineNumber: 636,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n                lineNumber: 635,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/tobe/H2SafetyDev/h2safety-ai/pages/threads/[threadId].tsx\",\n        lineNumber: 343,\n        columnNumber: 5\n    }, this);\n}\n_s(ThreadPage, \"W0Ur9LZ7snrhuuh89VHjmIxpK+o=\", false, function() {\n    return [\n        _lib_context_UserContext__WEBPACK_IMPORTED_MODULE_3__.useUser,\n        next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = ThreadPage;\nvar _c;\n$RefreshReg$(_c, \"ThreadPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OzhDQUdELDhEQUFDdUQ7b0NBQ0NDLFNBQVM7d0NBQ1AvQixxQkFBcUIsVUFBVXpEO3dDQUMvQkQsZUFBZTt3Q0FDZkUsZUFBZTtvQ0FDakI7b0NBQ0F3RixVQUFVakc7b0NBQ1Z3QyxXQUFVOzhDQUlUeEMsZ0JBQWdCLGtCQUFrQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRbkQ7R0Ezb0J3QnpCOztRQUNjVCw2REFBT0E7UUFDNUJELGtEQUFTQTs7O0tBRkZVIiwic291cmNlcyI6WyIvVXNlcnMvdG9iZS9IMlNhZmV0eURldi9oMnNhZmV0eS1haS9wYWdlcy90aHJlYWRzL1t0aHJlYWRJZF0udHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBhZ2VzL3RocmVhZC9bdGhyZWFkSWRdLnRzeFxuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcidcbmltcG9ydCB7IHVzZVVzZXIgfSBmcm9tICdAL2xpYi9jb250ZXh0L1VzZXJDb250ZXh0J1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCdcbmltcG9ydCBIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL0hlYWRlcidcbmltcG9ydCB7IGRvYywgb25TbmFwc2hvdCwgdXBkYXRlRG9jLCBhcnJheVVuaW9uIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJ1xuaW1wb3J0IHsgZGIgfSBmcm9tICdAL2xpYi9maXJlYmFzZScgLy8gQ2xpZW50IFNESyBGaXJlc3RvcmUgaW5zdGFuY2VcblxudHlwZSBQcm9qZWN0RGF0YSA9IHtcbiAgcHJvamVjdE5hbWU6IHN0cmluZztcbiAgc3RhdHVzOiBzdHJpbmc7XG4gIHByb2plY3RQcmlvcml0eTogc3RyaW5nO1xuICBmYWNpbGl0eU5hbWU/OiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBjb21wbGlhbmNlRGVhZGxpbmU/OiB7XG4gICAgdG9EYXRlOiAoKSA9PiBEYXRlO1xuICB9O1xuICBjcmVhdGVkQXQ/OiB7XG4gICAgdG9EYXRlOiAoKSA9PiBEYXRlO1xuICB9O1xuICB1cGRhdGVkQXQ/OiB7XG4gICAgdG9EYXRlOiAoKSA9PiBEYXRlO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUaHJlYWRQYWdlKCkge1xuICBjb25zdCB7IHVzZXIsIHVzZXJEYXRhLCBsb2FkaW5nIH0gPSB1c2VVc2VyKClcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcbiAgY29uc3QgeyB0aHJlYWRJZCB9ID0gcm91dGVyLnF1ZXJ5XG5cbiAgY29uc3QgW3RocmVhZCwgc2V0VGhyZWFkXSA9IHVzZVN0YXRlPGFueT4obnVsbClcbiAgY29uc3QgW3RocmVhZEVycm9yLCBzZXRUaHJlYWRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICBjb25zdCBbdGhyZWFkTG9hZGluZywgc2V0VGhyZWFkTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKVxuXG4gIGNvbnN0IFtwcm9qZWN0LCBzZXRQcm9qZWN0XSA9IHVzZVN0YXRlPFByb2plY3REYXRhIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW3Byb2plY3RMb2FkaW5nLCBzZXRQcm9qZWN0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKVxuXG4gIGNvbnN0IFtjaGF0SW5wdXQsIHNldENoYXRJbnB1dF0gPSB1c2VTdGF0ZSgnJylcbiAgY29uc3QgW2NoYXRMb2FkaW5nLCBzZXRDaGF0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2NoYXRFcnJvciwgc2V0Q2hhdEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG5cbiAgY29uc3QgW2luc2lnaHRzQ29udGVudCwgc2V0SW5zaWdodHNDb250ZW50XSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG5cbiAgY29uc3QgW3JlcG9ydExvYWRpbmcsIHNldFJlcG9ydExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcmVwb3J0Q29udGVudCwgc2V0UmVwb3J0Q29udGVudF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3JlcG9ydEVycm9yLCBzZXRSZXBvcnRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzTW9kYWxPcGVuLCBzZXRJc01vZGFsT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXN0b21JbnB1dCwgc2V0Q3VzdG9tSW5wdXRdID0gdXNlU3RhdGUoJycpO1xuXG4gIGNvbnN0IFthZGRpbmdJbnNpZ2h0LCBzZXRBZGRpbmdJbnNpZ2h0XSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbYWRkSW5zaWdodFN1Y2Nlc3MsIHNldEFkZEluc2lnaHRTdWNjZXNzXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFthZGRJbnNpZ2h0RXJyb3IsIHNldEFkZEluc2lnaHRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGxvYWRpbmcpIHJldHVyblxuICAgIGlmICghdXNlcikge1xuICAgICAgc2V0VGhyZWFkRXJyb3IoJ1BsZWFzZSBsb2cgaW4gdG8gdmlldyB0aGlzIHRocmVhZC4nKVxuICAgICAgc2V0VGhyZWFkTG9hZGluZyhmYWxzZSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhyZWFkSWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICBzZXRUaHJlYWRFcnJvcignSW52YWxpZCB0aHJlYWQgSUQnKVxuICAgICAgc2V0VGhyZWFkTG9hZGluZyhmYWxzZSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHRpZCA9IHRocmVhZElkXG4gICAgY29uc3QgdGhyZWFkUmVmID0gZG9jKGRiLCAndGhyZWFkcycsIHRpZClcbiAgICBjb25zdCB1bnN1YiA9IG9uU25hcHNob3QodGhyZWFkUmVmLCAoc25hcHNob3QpID0+IHtcbiAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xuICAgICAgICBjb25zdCBkYXRhID0gc25hcHNob3QuZGF0YSgpXG4gICAgICAgIHNldFRocmVhZChkYXRhKVxuICAgICAgICBzZXRUaHJlYWRFcnJvcihudWxsKVxuICAgICAgICBzZXRUaHJlYWRMb2FkaW5nKGZhbHNlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VGhyZWFkRXJyb3IoJ1RocmVhZCBub3QgZm91bmQnKVxuICAgICAgICBzZXRUaHJlYWRMb2FkaW5nKGZhbHNlKVxuICAgICAgfVxuICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgc2V0VGhyZWFkRXJyb3IoZXJyb3IubWVzc2FnZSlcbiAgICAgIHNldFRocmVhZExvYWRpbmcoZmFsc2UpXG4gICAgfSlcblxuICAgIHJldHVybiAoKSA9PiB1bnN1YigpXG4gIH0sIFt1c2VyLCBsb2FkaW5nLCB0aHJlYWRJZF0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXRocmVhZCB8fCAhdXNlciB8fCAhdGhyZWFkLnByb2plY3RJZCB8fCB0eXBlb2YgdGhyZWFkLnByb2plY3RJZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHNldFByb2plY3RMb2FkaW5nKGZhbHNlKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgcGlkID0gdGhyZWFkLnByb2plY3RJZFxuICAgIGNvbnN0IHByb2plY3RSZWYgPSBkb2MoZGIsICdwcm9qZWN0cycsIHBpZClcbiAgICBjb25zdCB1bnN1YlByb2plY3QgPSBvblNuYXBzaG90KHByb2plY3RSZWYsIChzbmFwc2hvdCkgPT4ge1xuICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBzbmFwc2hvdC5kYXRhKClcbiAgICAgICAgY29uc3QgcHJvamVjdERhdGE6IFByb2plY3REYXRhID0ge1xuICAgICAgICAgIHByb2plY3ROYW1lOiBkYXRhLnByb2plY3ROYW1lIHx8ICcnLFxuICAgICAgICAgIHN0YXR1czogZGF0YS5zdGF0dXMgfHwgJycsXG4gICAgICAgICAgcHJvamVjdFByaW9yaXR5OiBkYXRhLnByb2plY3RQcmlvcml0eSB8fCAnJyxcbiAgICAgICAgICBmYWNpbGl0eU5hbWU6IGRhdGEuZmFjaWxpdHlOYW1lLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIGNvbXBsaWFuY2VEZWFkbGluZTogZGF0YS5jb21wbGlhbmNlRGVhZGxpbmUsXG4gICAgICAgICAgY3JlYXRlZEF0OiBkYXRhLmNyZWF0ZWRBdCxcbiAgICAgICAgICB1cGRhdGVkQXQ6IGRhdGEudXBkYXRlZEF0XG4gICAgICAgIH1cbiAgICAgICAgc2V0UHJvamVjdChwcm9qZWN0RGF0YSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybignUHJvamVjdCBub3QgZm91bmQgZm9yIHRoaXMgdGhyZWFkJylcbiAgICAgIH1cbiAgICAgIHNldFByb2plY3RMb2FkaW5nKGZhbHNlKVxuICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBwcm9qZWN0OicsIGVycm9yLm1lc3NhZ2UpXG4gICAgICBzZXRQcm9qZWN0TG9hZGluZyhmYWxzZSlcbiAgICB9KVxuXG4gICAgcmV0dXJuICgpID0+IHVuc3ViUHJvamVjdCgpXG4gIH0sIFt0aHJlYWQsIHVzZXJdKVxuXG4gIGlmICh0aHJlYWRMb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWJsYWNrIHRleHQtd2hpdGUgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICA8SGVhZGVyIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC04XCI+TG9hZGluZyB0aHJlYWQuLi48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGlmICh0aHJlYWRFcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ibGFjayB0ZXh0LXdoaXRlIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgPEhlYWRlciAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtOFwiPnt0aHJlYWRFcnJvcn08L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGlmICghdGhyZWFkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWJsYWNrIHRleHQtd2hpdGUgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICA8SGVhZGVyIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC04XCI+VGhyZWFkIG5vdCBmb3VuZDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlU2VuZE1lc3NhZ2UoY29udGVudDogc3RyaW5nLCBzZW5kZXI6ICd1c2VyJ3wnYWknKSB7XG4gICAgaWYgKHR5cGVvZiB0aHJlYWRJZCAhPT0gJ3N0cmluZycpIHJldHVyblxuICAgIGF3YWl0IGZldGNoKCcvYXBpL21lc3NhZ2VzL2FkZCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHRocmVhZElkLCBjb250ZW50LCBzZW5kZXIgfSlcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQ2hhdFN1Ym1pdChlOiBSZWFjdC5Gb3JtRXZlbnQpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBzZXRDaGF0RXJyb3IobnVsbClcbiAgICBpZiAoIWNoYXRJbnB1dC50cmltKCkpIHJldHVyblxuICAgIGlmICh0eXBlb2YgdGhyZWFkSWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICBzZXRDaGF0RXJyb3IoJ0ludmFsaWQgdGhyZWFkIElEJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHNldENoYXRMb2FkaW5nKHRydWUpXG4gICAgY29uc3QgdXNlck1lc3NhZ2UgPSBjaGF0SW5wdXQudHJpbSgpXG4gICAgc2V0Q2hhdElucHV0KCcnKVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEFkZCB1c2VyJ3MgbWVzc2FnZSB2aWEgQVBJIHJvdXRlXG4gICAgICBhd2FpdCBoYW5kbGVTZW5kTWVzc2FnZSh1c2VyTWVzc2FnZSwgJ3VzZXInKVxuXG4gICAgICAvLyBRdWVyeSB0aGUgUkFHIHNlcnZpY2Ugd2l0aCBpbXByb3ZlZCBlcnJvciBoYW5kbGluZ1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHA6Ly8xOTIuMTY4LjIuMjMyOjUwMDIvYXNrJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcXVlc3Rpb246IHVzZXJNZXNzYWdlIH0pXG4gICAgICB9KVxuXG4gICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXMudGV4dCgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGVycm9yOiAke2Vycm9yRGF0YX1gKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxuXG4gICAgICAvLyBIYW5kbGUgdGhlIG5ldyByZXNwb25zZSBmb3JtYXRcbiAgICAgIGNvbnN0IGFpTWVzc2FnZSA9IGRhdGEuZmluYWxfcmVzcG9uc2UgfHwgZGF0YS5maW5hbF9yZXNwb25zZSB8fCAnTm8gcmVzcG9uc2UgZ2VuZXJhdGVkLidcbiAgICAgIFxuICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IpXG4gICAgICB9XG5cbiAgICAgIGF3YWl0IGhhbmRsZVNlbmRNZXNzYWdlKGFpTWVzc2FnZSwgJ2FpJylcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignQ2hhdCBlcnJvcjonLCBlcnIpXG4gICAgICBzZXRDaGF0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBnZXQgcmVzcG9uc2UgZnJvbSBBSSBzZXJ2aWNlJylcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0Q2hhdExvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlR2VuZXJhdGVSZXBvcnQodHlwZTogJ3N1bW1hcnknIHwgJ2NvbW11bmljYXRpb24nIHwgJ2NvbXByZWhlbnNpdmUnIHwgJ2N1c3RvbScsIGN1c3RvbVByb21wdD86IHN0cmluZykge1xuICAgIHNldFJlcG9ydExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0UmVwb3J0RXJyb3IobnVsbCk7XG4gICAgc2V0UmVwb3J0Q29udGVudChudWxsKTtcblxuICAgIGlmICghdGhyZWFkIHx8IHR5cGVvZiB0aHJlYWRJZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHNldFJlcG9ydEVycm9yKCdUaHJlYWQgb3IgdGhyZWFkSWQgbm90IHJlYWR5IHlldC4nKTtcbiAgICAgIHNldFJlcG9ydExvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhyZWFkLnByb2plY3RJZCB8fCB0eXBlb2YgdGhyZWFkLnByb2plY3RJZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHNldFJlcG9ydEVycm9yKCd0aHJlYWQucHJvamVjdElkIG5vdCByZWFkeSB5ZXQuJyk7XG4gICAgICBzZXRSZXBvcnRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgZW5kcG9pbnQgPSB0eXBlID09PSAnY29tcHJlaGVuc2l2ZScgXG4gICAgICAgID8gJy9hcGkvcmVwb3J0cy9tdWx0aXN0ZXAtZ2VuZXJhdGUnXG4gICAgICAgIDogJy9hcGkvcmVwb3J0cy9nZW5lcmF0ZSc7XG5cbiAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgIHByb2plY3RJZDogdGhyZWFkLnByb2plY3RJZCxcbiAgICAgICAgdGhyZWFkSWQsXG4gICAgICAgIC4uLih0eXBlICE9PSAnY29tcHJlaGVuc2l2ZScgJiYgeyByZXBvcnRUeXBlOiB0eXBlIH0pLFxuICAgICAgICAuLi4oY3VzdG9tUHJvbXB0ICYmIHsgY3VzdG9tUHJvbXB0IH0pXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChlbmRwb2ludCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZ2VuZXJhdGluZyByZXBvcnQ6ICR7dGV4dH1gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgIHNldFJlcG9ydENvbnRlbnQocmVzdWx0LmNvbnRlbnQpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIHJlcG9ydDonLCBlcnIpO1xuICAgICAgc2V0UmVwb3J0RXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRSZXBvcnRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVDdXN0b21SZXBvcnQoKSB7XG4gICAgc2V0SXNNb2RhbE9wZW4odHJ1ZSk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVJbnNpZ2h0Q2xpY2sodHlwZTogc3RyaW5nKSB7XG4gICAgaWYgKHR5cGVvZiB0aHJlYWRJZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGFsZXJ0KCdJbnZhbGlkIHRocmVhZCBJRCBmb3IgaW5zaWdodHMgZ2VuZXJhdGlvbicpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJy9hcGkvaW5zaWdodHMvZ2VuZXJhdGUnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB0aHJlYWRJZCwgaW5zaWdodFR5cGU6IHR5cGUgfSlcbiAgICAgIH0pXG4gICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzLnRleHQoKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGdlbmVyYXRpbmcgaW5zaWdodHM6ICR7dGV4dH1gKVxuICAgICAgfVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKClcbiAgICAgIHNldEluc2lnaHRzQ29udGVudChkYXRhLmNvbnRlbnQgfHwgYE5vIGluc2lnaHRzIHJldHVybmVkIGZvciAke3R5cGV9LmApXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIHNldEluc2lnaHRzQ29udGVudChudWxsKVxuICAgICAgYWxlcnQoZXJyLm1lc3NhZ2UpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gYWRkSW5zaWdodFRvTWVzc2FnZXMoKSB7XG4gICAgaWYgKCFpbnNpZ2h0c0NvbnRlbnQgfHwgIXRocmVhZElkIHx8IHR5cGVvZiB0aHJlYWRJZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHNldEFkZEluc2lnaHRFcnJvcignTm8gaW5zaWdodCBhdmFpbGFibGUgdG8gYWRkLicpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBzZXRBZGRpbmdJbnNpZ2h0KHRydWUpXG4gICAgc2V0QWRkSW5zaWdodEVycm9yKG51bGwpXG4gICAgc2V0QWRkSW5zaWdodFN1Y2Nlc3MobnVsbClcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0aHJlYWRSZWYgPSBkb2MoZGIsICd0aHJlYWRzJywgdGhyZWFkSWQpXG4gICAgICBjb25zdCBuZXdNZXNzYWdlID0ge1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIHNlbmRlcjogJ2luc2lnaHQnLFxuICAgICAgICBjb250ZW50OiBpbnNpZ2h0c0NvbnRlbnQsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIH1cblxuICAgICAgYXdhaXQgdXBkYXRlRG9jKHRocmVhZFJlZiwge1xuICAgICAgICBtZXNzYWdlczogYXJyYXlVbmlvbihuZXdNZXNzYWdlKSxcbiAgICAgIH0pXG5cbiAgICAgIHNldEFkZEluc2lnaHRTdWNjZXNzKCdJbnNpZ2h0IGFkZGVkIHRvIG1lc3NhZ2VzIHN1Y2Nlc3NmdWxseSEnKVxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgaW5zaWdodCB0byBtZXNzYWdlczonLCBlcnIpXG4gICAgICBzZXRBZGRJbnNpZ2h0RXJyb3IoJ0ZhaWxlZCB0byBhZGQgaW5zaWdodCB0byBtZXNzYWdlczogJyArIGVyci5tZXNzYWdlKVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRBZGRpbmdJbnNpZ2h0KGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG1lc3NhZ2VzID0gdGhyZWFkLm1lc3NhZ2VzIHx8IFtdXG4gIGNvbnN0IGlzT3duZXIgPSB1c2VyICYmIHVzZXIudWlkID09PSB0aHJlYWQub3duZXJJZFxuXG4gIGNvbnN0IGZvcm1hdERhdGUgPSAoZGF0ZTogRGF0ZSB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIGlmICghZGF0ZSkgcmV0dXJuICdOb3QgU2V0JztcbiAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywge1xuICAgICAgbW9udGg6ICdzaG9ydCcsXG4gICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgIHllYXI6ICdudW1lcmljJ1xuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgZ2V0U3RhdHVzQ29sb3IgPSAoc3RhdHVzOiBzdHJpbmcpID0+IHtcbiAgICBzd2l0Y2ggKHN0YXR1cz8udG9Mb3dlckNhc2UoKSkge1xuICAgICAgY2FzZSAnYWN0aXZlJzpcbiAgICAgICAgcmV0dXJuICd0ZXh0LWdyZWVuLTQwMCc7XG4gICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuICd0ZXh0LXllbGxvdy00MDAnO1xuICAgICAgY2FzZSAnY29tcGxldGVkJzpcbiAgICAgICAgcmV0dXJuICd0ZXh0LWJsdWUtNDAwJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAndGV4dC1ncmF5LTQwMCc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ibGFjayB0ZXh0LXdoaXRlIGZsZXhcIj5cbiAgICAgIHsvKiBJbnNpZ2h0cyBTaWRlYmFyICovfVxuICAgICAgPGFzaWRlIGNsYXNzTmFtZT1cInctNjQgYmctZ3JheS05MDAgcC00IGJvcmRlci1yIGJvcmRlci1ncmF5LTgwMCBzdGlja3kgdG9wLTAgaC1zY3JlZW4gb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTRcIj5JbnNpZ2h0czwvaDI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIG1iLTRcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IGJnLWdyYXktODAwIGhvdmVyOmJnLWdyYXktNzAwIHB4LTQgcHktMiByb3VuZGVkXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUluc2lnaHRDbGljaygnQ29kZSBSZWZlcmVuY2VzJyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgQ29kZSBSZWZlcmVuY2VzXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBiZy1ncmF5LTgwMCBob3ZlcjpiZy1ncmF5LTcwMCBweC00IHB5LTIgcm91bmRlZFwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVJbnNpZ2h0Q2xpY2soJ1JlY29tbWVuZGVkIEFjdGlvbnMnKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBSZWNvbW1lbmRlZCBBY3Rpb25zXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBiZy1ncmF5LTgwMCBob3ZlcjpiZy1ncmF5LTcwMCBweC00IHB5LTIgcm91bmRlZFwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVJbnNpZ2h0Q2xpY2soJ0dlbmVyYWwgSW5zaWdodHMnKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBHZW5lcmFsIEluc2lnaHRzXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7aW5zaWdodHNDb250ZW50ICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktODAwIHAtNCByb3VuZGVkIG10LTRcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIG1iLTQgYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAgZGlzYWJsZWQ6YmctYmx1ZS04MDAgXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LXdoaXRlIHB4LTQgcHktMiByb3VuZGVkIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCJcbiAgICAgICAgICAgICAgb25DbGljaz17YWRkSW5zaWdodFRvTWVzc2FnZXN9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXthZGRpbmdJbnNpZ2h0fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7YWRkaW5nSW5zaWdodCA/IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gLW1sLTEgbXItMyBoLTUgdy01XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGNsYXNzTmFtZT1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiNFwiPjwvY2lyY2xlPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBjbGFzc05hbWU9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOFYwQzUuMzczIDAgMCA1LjM3MyAwIDEyaDR6bTIgNS4yOTFBNy45NjIgNy45NjIgMCAwMTQgMTJIMGMwIDMuMDQyIDEuMTM1IDUuODI0IDMgNy45MzhsMy0yLjY0N3pcIj48L3BhdGg+XG4gICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgIEFkZGluZy4uLlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICdBZGQgSW5zaWdodCB0byBNZXNzYWdlcydcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICB7YWRkSW5zaWdodFN1Y2Nlc3MgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgcC0yIGJnLWdyZWVuLTkwMCBiZy1vcGFjaXR5LTIwIHRleHQtZ3JlZW4tNDAwIHRleHQtc20gcm91bmRlZFwiPlxuICAgICAgICAgICAgICAgIHthZGRJbnNpZ2h0U3VjY2Vzc31cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7YWRkSW5zaWdodEVycm9yICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHAtMiBiZy1yZWQtOTAwIGJnLW9wYWNpdHktMjAgdGV4dC1yZWQtNDAwIHRleHQtc20gcm91bmRlZFwiPlxuICAgICAgICAgICAgICAgIHthZGRJbnNpZ2h0RXJyb3J9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPkdlbmVyYXRlZCBJbnNpZ2h0czwvaDM+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS0yMDAgd2hpdGVzcGFjZS1wcmUtd3JhcFwiPntpbnNpZ2h0c0NvbnRlbnR9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9hc2lkZT5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICA8SGVhZGVyIC8+XG4gICAgICAgIDxtYWluIGNsYXNzTmFtZT1cInAtOCBmbGV4LTEgb3ZlcmZsb3ctYXV0b1wiPlxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNFwiPnt0aHJlYWQudGl0bGV9PC9oMT5cbiAgICAgICAgICB7cHJvamVjdCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC02IGl0ZW1zLWNlbnRlciBtYi02IGJnLWdyYXktOTAwIHAtNCByb3VuZGVkXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+U3RhdHVzOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2dldFN0YXR1c0NvbG9yKHByb2plY3Quc3RhdHVzKX0+XG4gICAgICAgICAgICAgICAgICB7cHJvamVjdC5zdGF0dXMgfHwgJ05vdCBTZXQnfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+UHJpb3JpdHk6PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICB7cHJvamVjdC5wcm9qZWN0UHJpb3JpdHkgfHwgJ05vdCBTZXQnfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+Q29tcGxpYW5jZSBEZWFkbGluZTo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICB7Zm9ybWF0RGF0ZShwcm9qZWN0LmNvbXBsaWFuY2VEZWFkbGluZT8udG9EYXRlKCkpfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHt0aHJlYWQubGFzdE1vZGlmaWVkICYmIHRocmVhZC5sYXN0TW9kaWZpZWQudG9EYXRlICYmXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDAgbWItMlwiPlxuICAgICAgICAgICAgICBMYXN0IE1vZGlmaWVkOiB7bmV3IERhdGUodGhyZWFkLmxhc3RNb2RpZmllZC50b0RhdGUoKSkudG9Mb2NhbGVTdHJpbmcoKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICB9XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNDAwIG1iLThcIj5cbiAgICAgICAgICAgIE1lc3NhZ2VzOiB7dGhyZWFkLm1lc3NhZ2VDb3VudCB8fCBtZXNzYWdlcy5sZW5ndGggfHwgMH1cbiAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICA8aHIgY2xhc3NOYW1lPVwibXktOCBib3JkZXItZ3JheS03MDBcIiAvPlxuXG4gICAgICAgICAgey8qIEdlbmVyYXRlIFJlcG9ydHMgU2VjdGlvbiAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLThcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItNFwiPkdlbmVyYXRlIFJlcG9ydHM8L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtNFwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWJsdWUtNjAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHktMiBweC02IHJvdW5kZWQtbGcgc2hhZG93LW1kIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtIGhvdmVyOnNjYWxlLTEwNSBob3ZlcjpzaGFkb3ctbGcgaG92ZXI6ZnJvbS1ibHVlLTYwMCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaG92ZXI6dG8tYmx1ZS03MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOmhvdmVyOnNjYWxlLTEwMCBkaXNhYmxlZDpob3ZlcjpzaGFkb3ctbWRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUdlbmVyYXRlUmVwb3J0KCdjb21wcmVoZW5zaXZlJyl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlcG9ydExvYWRpbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDb21wcmVoZW5zaXZlIFJlcG9ydFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWJsdWUtNjAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHktMiBweC02IHJvdW5kZWQtbGcgc2hhZG93LW1kIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtIGhvdmVyOnNjYWxlLTEwNSBob3ZlcjpzaGFkb3ctbGcgaG92ZXI6ZnJvbS1ibHVlLTYwMCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaG92ZXI6dG8tYmx1ZS03MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOmhvdmVyOnNjYWxlLTEwMCBkaXNhYmxlZDpob3ZlcjpzaGFkb3ctbWRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUdlbmVyYXRlUmVwb3J0KCdzdW1tYXJ5Jyl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlcG9ydExvYWRpbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTdW1tYXJ5IFJlcG9ydFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWJsdWUtNjAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHktMiBweC02IHJvdW5kZWQtbGcgc2hhZG93LW1kIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtIGhvdmVyOnNjYWxlLTEwNSBob3ZlcjpzaGFkb3ctbGcgaG92ZXI6ZnJvbS1ibHVlLTYwMCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaG92ZXI6dG8tYmx1ZS03MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOmhvdmVyOnNjYWxlLTEwMCBkaXNhYmxlZDpob3ZlcjpzaGFkb3ctbWRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUdlbmVyYXRlUmVwb3J0KCdjb21tdW5pY2F0aW9uJyl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlcG9ydExvYWRpbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDb21tdW5pY2F0aW9uIFN1bW1hcnlcbiAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1ibHVlLTYwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHB5LTIgcHgtNiByb3VuZGVkLWxnIHNoYWRvdy1tZCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybSBob3ZlcjpzY2FsZS0xMDUgaG92ZXI6c2hhZG93LWxnIGhvdmVyOmZyb20tYmx1ZS02MDAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhvdmVyOnRvLWJsdWUtNzAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDpob3ZlcjpzY2FsZS0xMDAgZGlzYWJsZWQ6aG92ZXI6c2hhZG93LW1kXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDdXN0b21SZXBvcnR9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlcG9ydExvYWRpbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDdXN0b20gUmVwb3J0XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHtyZXBvcnRMb2FkaW5nICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIG10LTQgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiAtbWwtMSBtci0zIGgtNSB3LTUgdGV4dC1ibHVlLTUwMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY2xhc3NOYW1lPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCI0XCI+PC9jaXJjbGU+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBjbGFzc05hbWU9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOFYwQzUuMzczIDAgMCA1LjM3MyAwIDEyaDR6bTIgNS4yOTFBNy45NjIgNy45NjIgMCAwMTQgMTJIMGMwIDMuMDQyIDEuMTM1IDUuODI0IDMgNy45MzhsMy0yLjY0N3pcIj48L3BhdGg+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgR2VuZXJhdGluZyByZXBvcnQuLi5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7cmVwb3J0RXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMCBtdC00IHAtMyBiZy1yZWQtOTAwIGJnLW9wYWNpdHktMjAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgIEVycm9yOiB7cmVwb3J0RXJyb3J9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAge3JlcG9ydENvbnRlbnQgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgYmctZ3JheS05MDAgcC02IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTcwMCBzaGFkb3ctbGdcIj5cbiAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSBtYi0zIHRleHQtYmx1ZS00MDBcIj5HZW5lcmF0ZWQgUmVwb3J0PC9oND5cbiAgICAgICAgICAgICAgICA8cHJlIGNsYXNzTmFtZT1cIndoaXRlc3BhY2UtcHJlLXdyYXAgdGV4dC1zbSB0ZXh0LWdyYXktMzAwIGZvbnQtbW9ubyBiZy1ncmF5LTgwMCBwLTQgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAge3JlcG9ydENvbnRlbnR9XG4gICAgICAgICAgICAgICAgPC9wcmU+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxociBjbGFzc05hbWU9XCJteS04IGJvcmRlci1ncmF5LTcwMFwiIC8+XG5cbiAgICAgICAgICB7LyogTWVzc2FnZXMgYW5kIENoYXQgU2VjdGlvbiAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktOTAwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTcwMCBzaGFkb3ctbGcgbWItOFwiPlxuICAgICAgICAgICAgey8qIE1lc3NhZ2VzIEFyZWEgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtWzYwMHB4XSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTQgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAge21lc3NhZ2VzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlcy5tYXAoKG1zZzogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQUkgPSBtc2cuc2VuZGVyID09PSAnYWknO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtc2dUaW1lID0gbXNnLnRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAgICAgID8gbmV3IERhdGUobXNnLnRpbWVzdGFtcCkudG9Mb2NhbGVTdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgIDogJ1Vua25vd24gdGltZSc7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXttc2cuaWR9IFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCAke2lzQUkgPyAnanVzdGlmeS1zdGFydCcgOiAnanVzdGlmeS1lbmQnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbWF4LXctWzgwJV0gJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0FJIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JheS04MDAgcm91bmRlZC10ci0yeGwnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctYmx1ZS02MDAgcm91bmRlZC10bC0yeGwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gcm91bmRlZC0yeGwgcC00IHNoYWRvdy1tZGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgd2hpdGVzcGFjZS1wcmUtd3JhcFwiPnttc2cuY29udGVudH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG10LTIgdGV4dC14cyB0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2lzQUkgPyAnQUkgQXNzaXN0YW50JyA6ICdZb3UnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57bXNnVGltZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzT3duZXIgJiYgIWlzQUkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtbC00IHRleHQtcmVkLTQwMCBob3Zlcjp0ZXh0LXJlZC0zMDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlRGVsZXRlTWVzc2FnZSBsb2dpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWxldGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtZnVsbCB0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwPk5vIG1lc3NhZ2VzIHlldC4gU3RhcnQgYSBjb252ZXJzYXRpb24hPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgey8qIENoYXQgSW5wdXQgQXJlYSAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLXQgYm9yZGVyLWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAge2NoYXRFcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTIgdGV4dC1zbSB0ZXh0LXJlZC01MDAgYmctcmVkLTkwMCBiZy1vcGFjaXR5LTIwIHAtMiByb3VuZGVkIGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsUnVsZT1cImV2ZW5vZGRcIiBkPVwiTTEwIDE4YTggOCAwIDEwMC0xNiA4IDggMCAwMDAgMTZ6TTguNzA3IDcuMjkzYTEgMSAwIDAwLTEuNDE0IDEuNDE0TDguNTg2IDEwbC0xLjI5MyAxLjI5M2ExIDEgMCAxMDEuNDE0IDEuNDE0TDEwIDExLjQxNGwxLjI5MyAxLjI5M2ExIDEgMCAwMDEuNDE0LTEuNDE0TDExLjQxNCAxMGwxLjI5My0xLjI5M2ExIDEgMCAwMC0xLjQxNC0xLjQxNEwxMCA4LjU4NiA4LjcwNyA3LjI5M3pcIiBjbGlwUnVsZT1cImV2ZW5vZGRcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAge2NoYXRFcnJvcn1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPGZvcm0gXG4gICAgICAgICAgICAgICAgICBvblN1Ym1pdD17aGFuZGxlQ2hhdFN1Ym1pdH0gXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjaGF0SW5wdXR9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDaGF0SW5wdXQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmF5LTgwMCB0ZXh0LXdoaXRlIGJvcmRlciBib3JkZXItZ3JheS03MDAgcm91bmRlZC1mdWxsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB4LTQgcHktMiBwci0xMiBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXItZ3JheS00MDAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtjaGF0TG9hZGluZyA/IFwiUHJvY2Vzc2luZy4uLlwiIDogXCJUeXBlIHlvdXIgbWVzc2FnZS4uLlwifVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjaGF0TG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjaGF0TG9hZGluZyB8fCAhY2hhdElucHV0LnRyaW0oKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0yIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiBwLTIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1ibHVlLTQwMCBob3Zlcjp0ZXh0LWJsdWUtMzAwIGRpc2FibGVkOnRleHQtZ3JheS02MDAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCByb3VuZGVkLWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtjaGF0TG9hZGluZyA/IFwiUHJvY2Vzc2luZy4uLlwiIDogXCJTZW5kIG1lc3NhZ2VcIn1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtjaGF0TG9hZGluZyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIGgtNSB3LTVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY2xhc3NOYW1lPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCI0XCI+PC9jaXJjbGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGNsYXNzTmFtZT1cIm9wYWNpdHktNzVcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00IDEyYTggOCAwIDAxOC04VjBDNS4zNzMgMCAwIDUuMzczIDAgMTJoNHptMiA1LjI5MUE3Ljk2MiA3Ljk2MiAwIDAxNCAxMkgwYzAgMy4wNDIgMS4xMzUgNS44MjQgMyA3LjkzOGwzLTIuNjQ3elwiPjwvcGF0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cImgtNSB3LTUgdHJhbnNmb3JtIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTIwMCBob3ZlcjpzY2FsZS0xMTBcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMiAxOWw5IDItOS0xOC05IDE4IDktMnptMCAwdi04XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L21haW4+XG5cbiAgICAgICAgPGZvb3RlciBjbGFzc05hbWU9XCJwLTQgdGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgwqkge25ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKX0gSDJTYWZldHkuYWlcbiAgICAgICAgPC9mb290ZXI+XG4gICAgICA8L2Rpdj5cblxuICAgICAge2lzTW9kYWxPcGVuICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2sgYmctb3BhY2l0eS01MFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcC02IHJvdW5kZWQtbGcgc2hhZG93LXhsIHctZnVsbCBtYXgtdy1sZyBteC00IGJvcmRlciBib3JkZXItZ3JheS03MDBcIj5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCBtYi00IHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgRW50ZXIgWW91ciBDdXN0b20gUmVwb3J0IFJlcXVpcmVtZW50c1xuICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICB2YWx1ZT17Y3VzdG9tSW5wdXR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q3VzdG9tSW5wdXQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGUgeW91ciByZXF1aXJlbWVudHMgaGVyZS4uLlwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgYmctZ3JheS05MDAgYm9yZGVyIGJvcmRlci1ncmF5LTcwMCByb3VuZGVkLWxnIFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LXdoaXRlIHBsYWNlaG9sZGVyLWdyYXktNDAwIGZvY3VzOm91dGxpbmUtbm9uZSBcbiAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgICByb3dzPXs2fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZCBtdC02IGdhcC0zXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRJc01vZGFsT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBzZXRDdXN0b21JbnB1dCgnJyk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctZ3JheS03MDAgaG92ZXI6YmctZ3JheS02MDAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC13aGl0ZSByb3VuZGVkIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZUdlbmVyYXRlUmVwb3J0KCdjdXN0b20nLCBjdXN0b21JbnB1dCk7XG4gICAgICAgICAgICAgICAgICBzZXRJc01vZGFsT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBzZXRDdXN0b21JbnB1dCgnJyk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVwb3J0TG9hZGluZ31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC13aGl0ZSByb3VuZGVkIHRyYW5zaXRpb24tY29sb3JzIFxuICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOmJnLWJsdWUtODAwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7cmVwb3J0TG9hZGluZyA/ICdHZW5lcmF0aW5nLi4uJyA6ICdHZW5lcmF0ZSBSZXBvcnQnfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gIClcbn0iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSb3V0ZXIiLCJ1c2VVc2VyIiwidjQiLCJ1dWlkdjQiLCJIZWFkZXIiLCJkb2MiLCJvblNuYXBzaG90IiwidXBkYXRlRG9jIiwiYXJyYXlVbmlvbiIsImRiIiwiVGhyZWFkUGFnZSIsInByb2plY3QiLCJ1c2VyIiwidXNlckRhdGEiLCJsb2FkaW5nIiwicm91dGVyIiwidGhyZWFkSWQiLCJxdWVyeSIsInRocmVhZCIsInNldFRocmVhZCIsInRocmVhZEVycm9yIiwic2V0VGhyZWFkRXJyb3IiLCJ0aHJlYWRMb2FkaW5nIiwic2V0VGhyZWFkTG9hZGluZyIsInNldFByb2plY3QiLCJwcm9qZWN0TG9hZGluZyIsInNldFByb2plY3RMb2FkaW5nIiwiY2hhdElucHV0Iiwic2V0Q2hhdElucHV0IiwiY2hhdExvYWRpbmciLCJzZXRDaGF0TG9hZGluZyIsImNoYXRFcnJvciIsInNldENoYXRFcnJvciIsImluc2lnaHRzQ29udGVudCIsInNldEluc2lnaHRzQ29udGVudCIsInJlcG9ydExvYWRpbmciLCJzZXRSZXBvcnRMb2FkaW5nIiwicmVwb3J0Q29udGVudCIsInNldFJlcG9ydENvbnRlbnQiLCJyZXBvcnRFcnJvciIsInNldFJlcG9ydEVycm9yIiwiaXNNb2RhbE9wZW4iLCJzZXRJc01vZGFsT3BlbiIsImN1c3RvbUlucHV0Iiwic2V0Q3VzdG9tSW5wdXQiLCJhZGRpbmdJbnNpZ2h0Iiwic2V0QWRkaW5nSW5zaWdodCIsImFkZEluc2lnaHRTdWNjZXNzIiwic2V0QWRkSW5zaWdodFN1Y2Nlc3MiLCJhZGRJbnNpZ2h0RXJyb3IiLCJzZXRBZGRJbnNpZ2h0RXJyb3IiLCJ0aWQiLCJ0aHJlYWRSZWYiLCJ1bnN1YiIsInNuYXBzaG90IiwiZXhpc3RzIiwiZGF0YSIsImVycm9yIiwibWVzc2FnZSIsInByb2plY3RJZCIsInBpZCIsInByb2plY3RSZWYiLCJ1bnN1YlByb2plY3QiLCJwcm9qZWN0RGF0YSIsInByb2plY3ROYW1lIiwic3RhdHVzIiwicHJvamVjdFByaW9yaXR5IiwiZmFjaWxpdHlOYW1lIiwiZGVzY3JpcHRpb24iLCJjb21wbGlhbmNlRGVhZGxpbmUiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJjb25zb2xlIiwid2FybiIsImRpdiIsImNsYXNzTmFtZSIsImhhbmRsZVNlbmRNZXNzYWdlIiwiY29udGVudCIsInNlbmRlciIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaGFuZGxlQ2hhdFN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRyaW0iLCJ1c2VyTWVzc2FnZSIsInJlcyIsInF1ZXN0aW9uIiwib2siLCJlcnJvckRhdGEiLCJ0ZXh0IiwiRXJyb3IiLCJqc29uIiwiYWlNZXNzYWdlIiwiZmluYWxfcmVzcG9uc2UiLCJlcnIiLCJoYW5kbGVHZW5lcmF0ZVJlcG9ydCIsInR5cGUiLCJjdXN0b21Qcm9tcHQiLCJlbmRwb2ludCIsInJlcG9ydFR5cGUiLCJyZXN1bHQiLCJoYW5kbGVDdXN0b21SZXBvcnQiLCJoYW5kbGVJbnNpZ2h0Q2xpY2siLCJhbGVydCIsImluc2lnaHRUeXBlIiwiYWRkSW5zaWdodFRvTWVzc2FnZXMiLCJuZXdNZXNzYWdlIiwiaWQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwibWVzc2FnZXMiLCJpc093bmVyIiwidWlkIiwib3duZXJJZCIsImZvcm1hdERhdGUiLCJkYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwibW9udGgiLCJkYXkiLCJ5ZWFyIiwiZ2V0U3RhdHVzQ29sb3IiLCJ0b0xvd2VyQ2FzZSIsImFzaWRlIiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJzdmciLCJ4bWxucyIsImZpbGwiLCJ2aWV3Qm94IiwiY2lyY2xlIiwiY3giLCJjeSIsInIiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInBhdGgiLCJkIiwiaDMiLCJwIiwibWFpbiIsImgxIiwidGl0bGUiLCJzcGFuIiwidG9EYXRlIiwibGFzdE1vZGlmaWVkIiwidG9Mb2NhbGVTdHJpbmciLCJtZXNzYWdlQ291bnQiLCJsZW5ndGgiLCJociIsImg0IiwicHJlIiwibWFwIiwibXNnIiwiaXNBSSIsIm1zZ1RpbWUiLCJmaWxsUnVsZSIsImNsaXBSdWxlIiwiZm9ybSIsIm9uU3VibWl0IiwiaW5wdXQiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJmb290ZXIiLCJnZXRGdWxsWWVhciIsInRleHRhcmVhIiwicm93cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/threads/[threadId].tsx\n"));

/***/ })

});